/* static/themes.css */

#theme-overlay, #sky-theme-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
    pointer-events: none;
    overflow: hidden;
}

/* --- Ünnepi Témák (az #theme-overlay-en) --- */
.theme-snow .snowflake { position: absolute; width: 10px; height: 10px; background: white; border-radius: 50%; animation: fall linear infinite; }
@keyframes fall { 0% { transform: translateY(-10vh) translateX(0); } 100% { transform: translateY(110vh) translateX(5vw); } }

.theme-confetti .confetti { position: absolute; width: 8px; height: 15px; animation: confetti-fall linear infinite; }
@keyframes confetti-fall { 0% { transform: translateY(-10vh) rotate(0deg); } 100% { transform: translateY(110vh) rotate(720deg); } }

.theme-balloons .balloon { --balloon-color: rgba(255,0,0,0.7); position: absolute; width: 50px; height: 60px; background-color: var(--balloon-color); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; animation: float 10s linear infinite; }
.theme-balloons .balloon::after { content: ""; position: absolute; bottom: -10px; left: 20px; width: 10px; height: 10px; background-color: var(--balloon-color); border-radius: 50%; }
@keyframes float { 0% { transform: translateY(110vh) rotate(-10deg); } 100% { transform: translateY(-20vh) rotate(10deg); } }

.theme-fireworks .firework { position: absolute; border-radius: 50%; border: 2px solid; box-shadow: 0 0 10px, 0 0 20px, 0 0 30px; animation: explode 1s ease-out forwards; }
@keyframes explode { 0% { transform: scale(0.1); opacity: 1; } 100% { transform: scale(30); opacity: 0; } }

.theme-eggs .egg { position: absolute; width: 30px; height: 40px; border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; animation: egg-fall linear infinite; }
@keyframes egg-fall { 0% { transform: translateY(-10vh) rotate(-15deg); } 100% { transform: translateY(110vh) rotate(15deg); } }

.theme-rain .streak {
    position: absolute;
    width: 2px;
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.25));
    animation-name: streak-fall;
    animation-timing-function: cubic-bezier(0.4, 0, 1, 1); /* Gyorsuló mozgás */
    animation-iteration-count: infinite;
}
@keyframes streak-fall {
    0% { transform: translateY(-20vh) translateX(var(--x-start)); }
    100% { transform: translateY(120vh) translateX(var(--x-end)); }
}
.theme-rain .splat {
    position: absolute;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transform: scale(0);
    animation: splat-pop 3s ease-out infinite;
    backdrop-filter: blur(1px) brightness(0.9);
}
@keyframes splat-pop {
    0% { transform: scale(0); opacity: 1; }
    5% { transform: scale(1); }
    80% { opacity: 0.1; }
    100% { opacity: 0; }
}

.theme-clear .sunbeam { position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle at center, rgba(255, 255, 220, 0.15) 0%, rgba(255, 255, 220, 0) 40%); animation: sun-rotate 60s linear infinite; }
@keyframes sun-rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.theme-clouds .cloud { position: absolute; background-image: url('/static/source/cloud.png'); background-size: contain; background-repeat: no-repeat; animation: move-clouds linear infinite; filter: blur(2px); opacity: 0.2; }
@keyframes move-clouds { 0% { transform: translateX(-200px); } 100% { transform: translateX(110vw); } }

.theme-atmosphere { background: radial-gradient(ellipse at center, rgba(200,200,200,0.1) 0%,rgba(0,0,0,0) 100%); animation: fog-pulse 8s ease-in-out infinite alternate; }
@keyframes fog-pulse { 0% { opacity: 0.8; } 100% { opacity: 1; } }

.theme-thunderstorm { background-color: rgba(0,0,0,0.2); }
.theme-thunderstorm .lightning { position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; background: white; opacity: 0; animation: flash 7s steps(1, end) infinite; }
@keyframes flash { 50% { opacity: 0.3; } 51%, 100% { opacity: 0; } }

/* NAPSZAK TÉMÁK */
.sky-gradient {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transition: opacity 5s ease-in-out;
    opacity: 0;
}
.sky-gradient.visible {
    opacity: 1;
}

.sky-sunrise .sky-gradient {
    background: linear-gradient(to bottom, rgba(255, 204, 188, 0.4) 0%, transparent 20%);
}

.sky-sunset .sky-gradient {
    background: linear-gradient(to bottom, rgba(255, 107, 107, 0.4) 0%, transparent 20%);
}

.sky-night .star {
    position: absolute;
    background-color: white;
    border-radius: 50%;
    animation: twinkle 5s infinite;
    top: calc(var(--y, 0) * 100%); /* Teljes képernyőn jelenjenek meg */
    left: calc(var(--x, 0) * 100%);
}

@keyframes twinkle {
    0%, 100% { opacity: 0; }
    50% { opacity: var(--o, 0.8); }
}